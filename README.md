# cubeplusplus
Template to write C++ programs on STM32Cube's HAL.

### Architecture
```
┌───────────┐         
│Application│         
└┬─┬────────┘         
 │┌▽─────────────────┐
 ││Core (Cube)       │
 │└┬───────────────┬─┘
┌▽─▽──────────────┐│  
│Peripheral Driver││  
└┬────────────────┘│  
┌▽─────────────────▽┐ 
│HAL (Cube)         │ 
└┬──────────────────┘ 
┌▽───────┐            
│Hardware│            
└────────┘ 
```

This translates to the following file system:

```
<project name>
 ├─src
 │  ├─application
 │  │  ├─app.cpp
 │  │  ├─app.h
 │  │  └─...
 │  ├─core (cube generated, calls to app added)
 │  │  ├─main.c
 │  │  └─...
 │  └─drivers
 │     ├─example_driver.cpp
 │     ├─example_driver.h
 │     └─...
 ├─platformio.ini
 └─<project name>.ioc*

```
\*saves the stm32cubemx static initialization settings
### Future work
- Flesh out README, documentation
- Write python script that automatically formats stm32cubemx autogenerated code to this architecture. Removes unecessary files, and updates main.c as necessary
- Create C version for simple projects
- Create more complex C++ projects to validate